<!DOCTYPE html>
<head>
	<!-- Load plotly.js into the DOM -->
	<script src='https://cdn.plot.ly/plotly-2.16.1.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

</head>

<body>
<hr>
<div>
			<!-- Ticker picker -->
                <label>Pick your ticker</label>
                <input type="name" id="tickername" name="tickername">
				<button class="plot-button" onclick="getdata()">Get Data</button>
</div>
<hr>

	<div id='myDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
</body>
<script>

function getdata(){

	var tickername = document.getElementById("tickername").value

	const settings = {
		"async": true,
		"crossDomain": true,
		"url": "https://mboum-finance.p.rapidapi.com/hi/history?symbol="+tickername+"&interval=15m&diffandsplits=false",
		"method": "GET",
		"headers": {
			"X-RapidAPI-Key": "apikey",
			"X-RapidAPI-Host": "mboum-finance.p.rapidapi.com"
		}
	};

$.ajax(settings).done(function (response) {
	console.log(response);
	//plotly(response);
});

}

//function plotting(data){
/* d3.csv("https://raw.githubusercontent.com/plotly/datasets/master/finance-charts-apple.csv", function(err, rows){

  function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

const parsed = JSON.parse(jsonArr);

var trace1 = {
  type: "scatter",
  mode: "lines",
  name: 'AAPL High',
  x: unpack(rows, 'Date'),
  y: unpack(rows, 'AAPL.High'),
  line: {color: '#17BECF'}
}

var trace2 = {
  type: "scatter",
  mode: "lines",
  name: 'AAPL Low',
  x: unpack(rows, 'Date'),
  y: unpack(rows, 'AAPL.Low'),
  line: {color: '#7F7F7F'}
}

var data = [trace1,trace2];

var layout = {
  title: 'Basic Time Series',
};

Plotly.newPlot('myDiv', data, layout);
})
*/

</script>